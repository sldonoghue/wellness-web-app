{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/sarahdonoghue/Documents/Projects/wellness-events-app/pages/components/EventSearch/index.jsx\";\nimport exact from 'prop-types-exact';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport DayPicker, { DateUtils } from 'react-day-picker';\nimport moment from 'moment';\nimport PlacesAutocomplete from 'react-places-autocomplete';\nimport { geocodeByAddress, geocodeByPlaceId, getLatLng } from 'react-places-autocomplete'; // https://react-day-picker.js.org/examples/selected-range-enter\n\nconst propTypes = {\n  dateLabel: PropTypes.string,\n  locationLabel: PropTypes.string,\n  searchButtonText: PropTypes.string\n};\nconst defaultProps = {\n  dateLabel: 'When',\n  locationLabel: 'City',\n  searchButtonText: 'Search'\n};\n\nclass EventSearch extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleSelectingFirstDay\", (from, to, day) => {\n      const isBeforeFirstDay = from && DateUtils.isDayBefore(day, from);\n      const isRangeSelected = from && to;\n      return !from || isBeforeFirstDay || isRangeSelected;\n    });\n\n    _defineProperty(this, \"handleDayClick\", day => {\n      const {\n        from,\n        to\n      } = this.state;\n\n      if (from && to && day >= from && day <= to) {\n        this.handleResetClick();\n        return;\n      }\n\n      if (this.handleSelectingFirstDay(from, to, day)) {\n        this.setState({\n          from: day,\n          to: null,\n          enteredTo: null\n        });\n      } else {\n        this.setState({\n          to: day,\n          enteredTo: day,\n          selectedDates: `${moment(from).format('DD/MM/YYYY')} - ${moment(day).format('DD/MM/YYYY')}`\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleDayMouseEnter\", day => {\n      let {\n        from,\n        to\n      } = this.state;\n\n      if (!this.handleSelectingFirstDay(from, to, day)) {\n        this.setState({\n          enteredTo: day\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleResetClick\", () => {\n      const {\n        enteredTo,\n        to,\n        from\n      } = this.state;\n      this.setState({\n        enteredTo: null,\n        from: null,\n        to: null\n      });\n    });\n\n    _defineProperty(this, \"handleDatePicker\", () => {\n      const {\n        activeDatePicker\n      } = this.state;\n      this.setState({\n        activeDatePicker: !activeDatePicker\n      });\n    });\n\n    _defineProperty(this, \"handleLocationChange\", locationValue => {\n      this.setState({\n        locationValue\n      });\n    });\n\n    _defineProperty(this, \"handleSelect\", locationValue => {\n      geocodeByAddress(locationValue).then(results => getLatLng(results[0])).then(latLng => console.log('Success', latLng)).catch(error => console.error('Error', error));\n    });\n\n    this.state = {\n      activeDatePicker: false,\n      city: '',\n      locationValue: '',\n      enteredTo: null,\n      from: null,\n      selectedDates: 'Anytime',\n      to: null\n    };\n  }\n\n  render() {\n    const {\n      dateLabel,\n      locationLabel,\n      searchButtonText\n    } = this.props;\n    const {\n      activeDatePicker,\n      enteredTo,\n      from,\n      locationValue,\n      selectedDates,\n      to\n    } = this.state;\n    const modifiers = {\n      start: from,\n      end: enteredTo\n    };\n    const disabledDays = {\n      before: from\n    };\n    const selectedDays = [from, {\n      from,\n      to: enteredTo\n    }];\n    return React.createElement(\"div\", {\n      className: \"EventSearch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"EventSearch_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"EventSearch_searchBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"EventSearch_searchFilter\",\n      onClick: this.handleDatePicker,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"EventSearch_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, dateLabel), React.createElement(\"div\", {\n      className: \"EventSearch_value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, selectedDates)), React.createElement(\"div\", {\n      className: activeDatePicker ? 'EventSearch_datePicker EventSearch_datePicker-active' : 'EventSearch_datePicker',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(DayPicker, {\n      className: \"EventSearch_date\",\n      numberOfMonths: 2,\n      fromMonth: from,\n      selectedDays: selectedDays,\n      disabledDays: disabledDays,\n      modifiers: modifiers,\n      onDayClick: this.handleDayClick,\n      onDayMouseEnter: this.handleDayMouseEnter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"EventSearch_searchFilter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"EventSearch_label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, locationLabel)), React.createElement(\"div\", {\n      className: \"EventSearch_action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"EventSearch_button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, searchButtonText)))), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \" Events Page\"));\n  }\n\n}\n\nEventSearch.propTypes = propTypes;\nEventSearch.defaultProps = defaultProps;\nexport default EventSearch;","map":{"version":3,"sources":["/Users/sarahdonoghue/Documents/Projects/wellness-events-app/pages/components/EventSearch/index.jsx"],"names":["exact","PropTypes","React","Component","DayPicker","DateUtils","moment","PlacesAutocomplete","geocodeByAddress","geocodeByPlaceId","getLatLng","propTypes","dateLabel","string","locationLabel","searchButtonText","defaultProps","EventSearch","constructor","props","from","to","day","isBeforeFirstDay","isDayBefore","isRangeSelected","state","handleResetClick","handleSelectingFirstDay","setState","enteredTo","selectedDates","format","activeDatePicker","locationValue","then","results","latLng","console","log","catch","error","city","render","modifiers","start","end","disabledDays","before","selectedDays","handleDatePicker","handleDayClick","handleDayMouseEnter"],"mappings":"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","sourcesContent":["import exact from 'prop-types-exact';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nimport DayPicker, { DateUtils } from 'react-day-picker';\nimport moment from 'moment';\nimport PlacesAutocomplete from 'react-places-autocomplete';\nimport { geocodeByAddress, geocodeByPlaceId, getLatLng } from 'react-places-autocomplete';\n\n// https://react-day-picker.js.org/examples/selected-range-enter\nconst propTypes = {\n  dateLabel: PropTypes.string,\n  locationLabel: PropTypes.string,\n  searchButtonText: PropTypes.string,\n}\n\nconst defaultProps = {\n  dateLabel: 'When',\n  locationLabel: 'City',\n  searchButtonText: 'Search',\n\n}\n\nclass EventSearch extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeDatePicker: false,\n      city: '',\n      locationValue: '',\n      enteredTo: null,\n      from: null,\n      selectedDates: 'Anytime',\n      to: null,\n    }\n  }\n\n\n  handleSelectingFirstDay = (from, to, day) => {\n    const isBeforeFirstDay = from && DateUtils.isDayBefore(day, from);\n    const isRangeSelected = from && to;\n    return !from || isBeforeFirstDay || isRangeSelected;\n  }\n\n\n  handleDayClick = (day) => {\n    const { from, to } = this.state;\n    if (from && to && day >= from && day <= to) {\n      this.handleResetClick();\n      return;\n    }\n    if (this.handleSelectingFirstDay(from, to, day)) {\n      this.setState({\n        from: day,\n        to: null,\n        enteredTo: null,\n      });\n    } else {\n      this.setState({\n        to: day,\n        enteredTo: day,\n        selectedDates: `${moment(from).format('DD/MM/YYYY')} - ${moment(day).format('DD/MM/YYYY')}`,\n      });\n    }\n  }\n\n\n  handleDayMouseEnter = (day) => {\n    let  { from, to } = this.state;\n    if (!this.handleSelectingFirstDay(from, to, day)) {\n      this.setState({\n        enteredTo: day,\n      });\n    }\n  }\n\n\n  handleResetClick = () => {\n    const { enteredTo, to, from } = this.state;\n    this.setState({\n      enteredTo: null,\n      from: null,\n      to: null,\n    });\n  }\n \n\n  handleDatePicker = () => {\n    const { activeDatePicker } = this.state;\n\n    this.setState({ activeDatePicker: !activeDatePicker})\n  }\n\n\n  handleLocationChange = (locationValue) => {\n    this.setState({ locationValue });\n  };\n \n\n  handleSelect = (locationValue) => {\n    geocodeByAddress(locationValue)\n      .then(results => getLatLng(results[0]))\n      .then(latLng => console.log('Success', latLng))\n      .catch(error => console.error('Error', error));\n  };\n\n\n  render() {\n\n    const { dateLabel, locationLabel, searchButtonText } = this.props;\n    const { activeDatePicker, enteredTo, from, locationValue, selectedDates, to } = this.state;\n    const modifiers = { start: from, end: enteredTo };\n    const disabledDays = { before: from };\n    const selectedDays = [from, { from, to: enteredTo }];\n\n    return (\n      <div className=\"EventSearch\">\n        <div className=\"EventSearch_container\">\n          <div className=\"EventSearch_searchBar\">\n            <div className=\"EventSearch_searchFilter\" onClick={this.handleDatePicker}>\n              <div className=\"EventSearch_label\">\n                {dateLabel}\n              </div>\n              <div className=\"EventSearch_value\">\n                {selectedDates}\n              </div>\n            </div>\n            <div className={activeDatePicker ? 'EventSearch_datePicker EventSearch_datePicker-active' : 'EventSearch_datePicker'}>\n              <DayPicker\n                className=\"EventSearch_date\"\n                numberOfMonths={2}\n                fromMonth={from}\n                selectedDays={selectedDays}\n                disabledDays={disabledDays}\n                modifiers={modifiers}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n              />\n            </div>\n           \n            <div className=\"EventSearch_searchFilter\">\n              <div className=\"EventSearch_label\">\n                {locationLabel}\n              </div>\n              {/* <ReactDependentScript\n                scripts={['https://maps.googleapis.com/maps/api/js?key=AIzaSyABNyDuLYeflwYvxCwU9CqTu1z3OH1ZYOQ&libraries=places']}\n              > */}\n                {/* <PlacesAutocomplete\n                  value={locationValue}\n                  onChange={this.handleLocationChange}\n                  onSelect={this.handleLocationSelect}\n                >\n                {({ getInputProps, suggestions, getSuggestionItemsProps, loading }) => (\n                  <div>\n                    <input\n                      {...getInputProps({\n                        placeholder: 'Anywhere',\n                        className: 'EventSearch_value',\n                      })}\n                    />\n                    <div className=\"EventSearch_locationContainer\">\n                      {loading && <div> Loading...</div>}\n                      {suggestions.map(suggestion => {\n                        const className = suggestion.active ? 'EventSearch_suggestion EventSearch_suggestion-active' : 'EventSearch_suggestion';\n                        //Inline style to be changed\n                        const style = suggestion.active ? { backgroundColor: '#fafafa', cursor: 'pointer' } : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                        return (\n                          <div\n                            {...getSuggestionItemsProps(suggestion, {className, style})}\n                          >\n                            <span>\n                              {suggestion.description}\n                            </span>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                )}\n                </PlacesAutocomplete> */}\n                {/* </ReactDependentScript> */}\n            </div>\n            <div className=\"EventSearch_action\">\n              <button type=\"button\" className=\"EventSearch_button\">\n                {searchButtonText}\n              </button>\n            </div>\n          </div>\n        </div>\n        <h1> Events Page</h1>\n      </div>\n    )\n  }\n}\n\nEventSearch.propTypes = propTypes;\nEventSearch.defaultProps = defaultProps;\n\nexport default EventSearch;"]},"metadata":{},"sourceType":"module"}